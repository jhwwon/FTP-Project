# FTP ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬ν„

C μ–Έμ–΄λ΅ κµ¬ν„ν• FTP(File Transfer Protocol) ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ‹μ¤ν…μ…λ‹λ‹¤.

## π“‹ ν”„λ΅μ νΈ κ°μ”

μ†μΌ“ ν”„λ΅κ·Έλλ°, λ©€ν‹°μ¤λ λ”©, λ©€ν‹°ν”„λ΅μ„Έμ‹±, I/O λ©€ν‹°ν”λ ‰μ‹± λ“± λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° κ°λ…μ„ λ³΄μ—¬μ£Όλ” μ»¤μ¤ν…€ FTP ν”„λ΅ν† μ½μ…λ‹λ‹¤.

## π€ μ£Όμ” κΈ°λ¥

### μ§€μ› λ…λ Ήμ–΄
- **`ls`** - μ„λ²„ λ””λ ‰ν† λ¦¬ λ©λ΅ μ΅°ν
- **`cls`** - ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬ λ””λ ‰ν† λ¦¬ λ©λ΅ μ΅°ν  
- **`cd`** - μ„λ²„ λ””λ ‰ν† λ¦¬ λ³€κ²½
- **`ccd`** - ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬ λ””λ ‰ν† λ¦¬ λ³€κ²½
- **`get`** - μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ νμΌ λ‹¤μ΄λ΅λ“
- **`put`** - ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ νμΌ μ—…λ΅λ“
- **`quit`** - μ—°κ²° μΆ…λ£
- **`help`** - μ‚¬μ© κ°€λ¥ν• λ…λ Ήμ–΄ ν‘μ‹

### μ„λ²„ κµ¬ν„ λ²„μ „
1. **`srv.c`** - λ©€ν‹°μ¤λ λ“ μ„λ²„ (pthread)
2. **`srv1.c`** - λ‹¨μΌ ν΄λΌμ΄μ–ΈνΈ μ„λ²„
3. **`srv2.c`** - I/O λ©€ν‹°ν”λ ‰μ‹± μ„λ²„ (select)
4. **`srv3.c`** - λ©€ν‹°ν”„λ΅μ„Έμ¤ μ„λ²„ (fork)
5. **`srv4.c`** - λ€μ²΄ λ©€ν‹°μ¤λ λ“ μ„λ²„

### ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
- **`cli.c`** - μ™„μ „ν• κΈ°λ¥μ FTP ν΄λΌμ΄μ–ΈνΈ
- **`shell.c`** - κΈ°λ³Έ ν΄λΌμ΄μ–ΈνΈ
- **`testcli.c`** - ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ

## π› οΈ κΈ°μ μ  νΉμ§•

### λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ°
- TCP μ†μΌ“ ν†µμ‹ 
- pthread κΈ°λ° λ©€ν‹°μ¤λ λ”©
- select() κΈ°λ° I/O λ©€ν‹°ν”λ ‰μ‹±
- fork() κΈ°λ° λ©€ν‹°ν”„λ΅μ„Έμ‹±
- μ²­ν¬ κΈ°λ° νμΌ μ „μ†΅

### μ‹μ¤ν… ν”„λ΅κ·Έλλ°
- ν”„λ΅μ„Έμ¤ κ΄€λ¦¬ (fork, execvp, wait)
- νμΌ I/O (open, read, write, close)
- λ””λ ‰ν† λ¦¬ κ΄€λ¦¬ (chdir, getcwd)
- ν‘μ¤€ μ…μ¶λ ¥ λ¦¬λ‹¤μ΄λ ‰μ…

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
ftp-project/
β”β”€β”€ cli/                    # ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ cli.c              # λ©”μΈ ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ shell.c            # κΈ°λ³Έ ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ testcli.c          # ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ
β”‚   β””β”€β”€ makefile           # λΉλ“ μ„¤μ •
β”β”€β”€ srv/                    # μ„λ²„
β”‚   β”β”€β”€ srv.c              # λ©€ν‹°μ¤λ λ“ μ„λ²„
β”‚   β”β”€β”€ srv1.c             # λ‹¨μΌ ν΄λΌμ΄μ–ΈνΈ μ„λ²„
β”‚   β”β”€β”€ srv2.c             # I/O λ©€ν‹°ν”λ ‰μ‹± μ„λ²„
β”‚   β”β”€β”€ srv3.c             # λ©€ν‹°ν”„λ΅μ„Έμ¤ μ„λ²„
β”‚   β”β”€β”€ srv4.c             # λ€μ²΄ λ©€ν‹°μ¤λ λ“ μ„λ²„
β”‚   β””β”€β”€ makefile           # λΉλ“ μ„¤μ •
β”β”€β”€ *.txt                   # ν…μ¤νΈ νμΌ
β””β”€β”€ README.md              # λ¬Έμ„
```

## π”§ λΉλ“ λ°©λ²•

### ν•„μ” μ΅°κ±΄
- GCC μ»΄νμΌλ¬
- pthread λΌμ΄λΈλ¬λ¦¬
- Linux/Unix ν™κ²½ (λλ” WSL)

### λΉλ“ λ…λ Ήμ–΄
```bash
# ν΄λΌμ΄μ–ΈνΈ
cd cli/
make

# μ„λ²„
cd srv/
make

# μλ™ μ»΄νμΌ
gcc -o cli cli.c -lpthread
gcc -o srv srv.c -lpthread
```

## π€ μ‚¬μ© λ°©λ²•

### μ„λ²„ μ‹μ‘
```bash
./srv <ν¬νΈλ²νΈ>
# μμ‹: ./srv 8080
```

### ν΄λΌμ΄μ–ΈνΈ μ—°κ²°
```bash
./cli <ν¬νΈλ²νΈ>
# μμ‹: ./cli 8080
```

### μ‚¬μ© μμ‹
```
ftp>> help
-----------------------------------------------------------
| ls  [option] : list server directory        |
| cls [option] : list client directory        |
| cd  [option] : Change server directory      |
| ccd [option] : Change client directory      |
| get filename : Download a file from server  |
| put filename: Upload a file from client     |
| quit : exit                                 |
-----------------------------------------------------------

ftp>> ls
total 8
-rw-r--r-- 1 user user 1024 Dec 15 10:30 file1.txt
-rw-r--r-- 1 user user 2048 Dec 15 10:31 file2.txt

ftp>> get file1.txt
get started[get file1.txt]
count= 1
λ‹¤μ΄λ΅λ“ μ™„λ£

ftp>> put localfile.txt
put started[put localfile.txt]
file size=512,count=1
μ™„λ£

ftp>> quit
μΆ…λ£ λμ—μµλ‹λ‹¤
```

## π” κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

### νμΌ μ „μ†΅ ν”„λ΅ν† μ½
- μ²­ν¬ ν¬κΈ°: 65535 λ°”μ΄νΈ
- μƒνƒ μ½”λ“: "OOOO" (μ„±κ³µ), "XXXX" (μ‹¤ν¨)
- νμΌ ν¬κΈ° μ •λ³΄ μ‚¬μ „ κµν™

### λ™μ‹μ„± λ¨λΈ
1. λ©€ν‹°μ¤λ λ”©: λ³„λ„ μ¤λ λ“λ΅ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
2. λ©€ν‹°ν”„λ΅μ„Έμ‹±: λ³„λ„ ν”„λ΅μ„Έμ¤λ΅ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
3. I/O λ©€ν‹°ν”λ ‰μ‹±: select()λ΅ λ‹¤μ¤‘ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
4. μμ°¨ μ²λ¦¬: λ‹¨μΌ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬

### μ¤λ¥ μ²λ¦¬
- μ—°κ²° μ¤λ¥ κ°μ§€
- νμΌ μ „μ†΅ μ¤λ¥ μ²λ¦¬
- μλ»λ λ…λ Ήμ–΄ μ²λ¦¬
- ν΄λΌμ΄μ–ΈνΈ μ—°κ²° ν•΄μ  κ°μ§€

## π“ ν•™μµ λ©ν‘

- μ†μΌ“ ν”„λ΅κ·Έλλ° κΈ°μ΄
- ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ•„ν‚¤ν…μ²
- λ™μ‹μ„± ν”„λ΅κ·Έλλ° κΈ°λ²•
- νμΌ μ „μ†΅ ν”„λ΅ν† μ½ μ„¤κ³„
- μ‹μ¤ν… ν”„λ΅κ·Έλλ° κ°λ…

## π― κµμ΅μ  κ°€μΉ

- λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° κ°λ… ν•™μµ
- λ™μ‹μ„± ν”„λ΅κ·Έλλ° λ¨λΈ μ΄ν•΄
- μ‹μ¤ν… ν”„λ΅κ·Έλλ° κΈ°λ²• μµλ“
- ν”„λ΅ν† μ½ μ„¤κ³„ λ° κµ¬ν„ κ²½ν—
- C μ–Έμ–΄ μ‹μ¤ν… μ½ ν™μ©

## π“ λΌμ΄μ„ μ¤

λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° κ³Όλ© κµμ΅μ© ν”„λ΅μ νΈμ…λ‹λ‹¤.

## π‘¨β€π’» κ°λ°μ

2022λ…„ λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° ν”„λ΅μ νΈ

---

*μ‹¤μ©μ μΈ FTP ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν†µν• λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° ν•™μµ*
